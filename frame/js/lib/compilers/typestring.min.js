/**
 * typestring - In-memory TypeScript compiler
 * https://github.com/gavinhungry/typestring
 */
({define:"function"==typeof define?define:function(e,r){module.exports=r.apply(null,e.map(require))}}).define(["typescript-api"],function(e){"use strict";var r="_typestring.ts";return{compile:function(t,n){var i=new e.TypeScriptCompiler;n=n||{};var p=new RegExp(e.tripleSlashReferenceRegExp.source,"gm");t=t.replace(p,function(e,r,t,i){return n[i]||e});var o=e.ScriptSnapshot.fromString(t);i.addFile(r,o);for(var c=i.compile(),a="";c.moveNext();){var u=c.current().outputFiles[0];a+=u?u.text:""}var f=i.getSemanticDiagnostics(r);if(!a&&f.length)throw new Error(f[0].text());return a}}});